<div class="page" ng-controller="gameTemplateCtrl">

    <section class="panel panel-default">
        <div class="panel-heading">
        <strong>
        	<span class="glyphicon glyphicon-th"></span> Game Templates </strong>
        	<div class="pull-right header-buttons">
        	 <button ng-click="newGameTemplate()" class="btn btn-success btn-sm"> New Game Template </button>
        	</div>
        </div>
        <div class="panel-body">
            <div class="table-responsive" style="width: 100%;">
                <table  st-pipe="templateTable" st-table="plans" class="table table-bordered table-striped table-responsive">
                    <thead>
                    <tr>
                        <th class="col-md-1" st-sort="name">Name</th>
                        <th class="col-md-2" st-sort="description"> Description</th>
                        <th class="col-md-1" st-sort="game_category.name">Game Type</th>
                        <th class="col-md-1" st-sort="createdAt">Game Date</th>
                        <th class="col-md-1"> Actions</th>
                    </tr>
                    <tr>
                        <th>
                            <input class="form-control" placeholder="Search Name" st-search="name"/>
                        </th>
                        <th>
                            <input class="form-control" placeholder="Search Description"
                                   st-search="Description"/>
                        </th>
                        <th>
                            <input class="form-control" placeholder="Search Type"
                                   st-search="game_category.name"/>
                        </th>
                        <th>
                            <input class="form-control" placeholder="Search Date"
                                   st-search="createdAt"/>
                        </th>
                        <th></th>
                    </tr>
                    </thead>

                    <tbody>
                    <tr ng-repeat="template in gameTemplates">
                        <td>{{template.name}}</td>
                        <td>{{template.description}}</td>
                        <td>{{template.game_category.name}}</td>
                        <td>{{ template.planDate | date: 'dd-MM-yyyy' }}</td>
                        <td>
                            <button title="Edit Plan" class="btn btn-sm btn-info" ng-click="editModal(template.id, $index)">
                                <span class="glyphicon glyphicon-edit"></span>
                            </button>
                            <button title="Delete Plan" class="btn btn-sm btn-danger"
                                    ng-click="delete($index,template.id)"
                                    confirm = "Are you sure you want to DELETE  '{{template.name}}' ?">
                                <span class="glyphicon glyphicon-remove-sign"></span>
                            </button>
                        </td>
                    </tr>
                    </tbody>

                    <tbody ng-show="isLoading">
                    <tr>
                        <td colspan="4" class="text-center">Loading ... </td>
                    </tr>
                    </tbody>

                    <tbody ng-show="gameTemplates && gameTemplates.length === 0">
                        <tr class="watermark-text-medium"
                            style="position: inherit; display: table-row; font-size: 30px;">
                            <td colspan="8">
                                <p>No Game Template Present</p>
                            </td>
                        </tr>
                    </tbody>

                    <tfoot class="table table-striped table-responsive">
                    <tr>
                        <td class="text-center" st-pagination="" st-items-by-page="pageItems" colspan="7">
                        </td>
                    </tr>
                    </tfoot>
                </table>
                <div class="col-md-3">
                    <select class="form-control"
                            ng-model="pageItems"
                            ng-options="item.val as item.name for item in items"
                            ng-selected="item.val === pageItems">
                    </select>
                </div>
            </div>
        </div>
    </section>


</div>
