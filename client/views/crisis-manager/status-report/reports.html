<div class="page" ng-controller="statusReportsCtrl">
    <section class="panel panel-default">
        <div class="panel-heading">
            <strong>
        	<span class="glyphicon glyphicon-th"></span> Status Reports</strong>
            <div class="pull-right header-buttons">
                <a ng-click="creatNew()" class="btn btn-success btn-sm">Create Report</a>
            </div>
        </div>
        <div class="panel-body">
         <div>
            <table st-pipe="init" st-table="reports" class="table table-striped table-bordered">
                <thead>
                    <tr>

                        <th st-sort="updatedAt">Date</th>
                        <th st-sort="incidentName">Incident Name</th>
                        <th st-sort="id">Actions</th>
                        <th st-sort="sent">Status</th>
                    </tr>
                </thead>
                <tbody ng-show="!isLoading">
                    <tr ng-repeat="record in reports">
                        <td>{{dateFormat(record.updatedAt)}}</td>
                        <td>{{record.incidentName}}</td>
                        <td>
                            <a ng-click="showHtmlView(record)"> <span class="btn">Show</span> </a>
                            <a href="/#/reports/edit/{{record.id}}"><span class="btn">Edit</span> </a>
                        </td>
                        <th>
                            <span ng-show="record.sent !== false" class="btn">
                                    <a ng-click="viewEmail(record.id)"> Sent </a>
                                </span>
                            <span ng-show="record.sent === false" class="btn"> Not Sent</span>
                        </th>
                    </tr>

                </tbody>
                <tbody ng-show="isLoading">
                    <tr>
                        <td colspan="4" class="text-center">Loading ... </td>
                    </tr>
                </tbody>
                <tfoot class="table table-striped table-responsive">
                    <tr>
                        <td class="text-center" st-pagination="" st-items-by-page="pageItems" colspan="5">
                        </td>
                    </tr>
                </tfoot>
            </table>
            </div>
            <div class="col-md-3">
                <select class="form-control" ng-model="pageItems" ng-options="item.val as item.name for item in items" ng-selected="item.val === pageItems">
            </select>
            </div>
        </div>
    </section>


</div>
