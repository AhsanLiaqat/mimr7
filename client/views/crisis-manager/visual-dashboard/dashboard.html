
<div class="page page-dashboard" ng-controller="visualDashboardCtrl">

	<nav class="navbar navbar-default navbar-white">
		<div class="container-fluid center-text">

			<div class="" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav float-left">
					<li class="dropdown" style="width: 250px;">
						<a class="dropdown-toggle navbar-dashboard-dropdown dropin" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" >
							<span ng-hide="incident" ng-model="selectIncident">Select Incident</span>
							<span ng-show="incident">{{incident.name}} </span>
							<span class="caret" style="float: right;margin-top: 8px;"></span>
						</a>
						<ul class="dropdown-menu">
							<li role="presentation" ng-repeat="record in incidents">
								<a class="dropdown-cursor" role="menuitem" ng-click="changeIncident(record)"> {{record.name}}</a>
							</li>
						</ul>
					</li>

					<li class="dropdown">
						<button class="btn btn-sm btn-raised btn-default" title="New Category" data-toggle="dropdown" role="button" aria-haspopup="true"
						aria-expanded="false" style="margin-right: 10px;">
							<i class="glyphicon glyphicon-plus"></i>
						</button>
						<ul class="dropdown-menu popup">
							<form ng-submit="addCategory()">
								<li role="presentation">
									<input type="text" class="form-control" placeholder="Category Name" ng-model="layout.category">
								</li>
								<li role="presentation" style="margin-top:5px;">
									<div class="pull-right">
										<button type="button" class="btn btn-sm btn-info" ng-click="closeCategoryForm()" title="Cancel" aria-label="Cancel">
											<span class="glyphicon glyphicon-remove"></span> Cancel
										</button>
										<button type="submit" class="btn btn-sm btn-success" title="Submit" aria-label="Submit">
											<span class="glyphicon glyphicon-ok"></span> Save
										</button>
									</div>
								</li>
							</form>
						</ul>
					</li>
				</ul>
				<ul class="nav nav-list navbar-nav float-right">
					<li>
		                <a href="#/dashboard/{{incidenty.id}}" class="btn btn-success" title="Dashboard" style="padding: 0px;
		                    padding-top: 3px;
		                    padding-right: 9px;">
		                    <i class="material-icons">dashboard</i>
		                </a>
		            </li>
					<li>
						<a href="#/actionPlanDashboardV2/{{incident.id}}"
								style="padding: 0px;
	    									padding-top: 3px;
	    									padding-right: 5px;"
								class="btn btn-primary" title="Action Plan Dashboard">
								<i class="material-icons">check_circle</i>
						</a>
					</li>
					<li>
						<button class="btn btn-sm btn-raised btn-default" ng-click="showTeams()" title="Teams">
							<i class="material-icons">group</i> User Status
						</button>
					</li>
				
					<li>
						<a href="{{getLcmsUrl()}}"
						class="btn btn-sm btn-raised btn-default" target="_blank"
						style="padding-top: 5px; padding-bottom: 5px; margin-left: 5px;">
							<i class="material-icons">play_circle_filled</i> LCMS
						</a>
					</li>


					<li class="divider hide-layout" style="width:5px"></li>

					<li class="btn-group-right-top">
						<button class="btn btn-sm btn-raised btn-default" ng-click="summaryReport()" title="Summary Report">
							<i class="material-icons">assignment</i> SitRap
						</button>
				
						<button class="btn btn-sm btn-raised btn-default" ng-click="TimeLine()" title="Timeline">
							<i class="material-icons">timeline</i> Timeline
						</button>
					
						<button type="button" class="btn btn-sm btn-raised btn-default" ng-click="loadMap()" title="Maps">
							<i class="material-icons">map</i> Map
						</button>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="row" style="margin-bottom: 10px;">
		<div class="col-md-12">
			<div class="input-group">
				<input type="text" class="form-control input-sm" style="border-radius: 3px 0 0 3px;" placeholder="Search category, messages, and sender"
				ng-model="query">
				<span class="input-group-btn">
					<button class="btn btn-sm btn-raised btn-default" ><i class="fa fa-search fa-fwearch"></i></button>
				</span>
			</div>
		</div>
	</div>


	<div class="row box-border" style="position: relative;">
		<div ng-class="toggleMessageClass()" class="col-lg-9 col-sm-12 col-xs-12 no-brd-right-lg">
			<div class="category-background">
				<p class="incident-para" ng-hide="incident">Please select an Incident</p>
				<p ng-hide="hasIncidentCategory()" class="watermark-text-medium" style="color: #DDDDDD">
					No Category Present
				</p>
				<div ng-class="{outer: layout.page=='flat'}">
							<vis-timeline data="timelineData" options="options" events="events"></vis-timeline>
					<!-- <ul class="classes" ng-class="toggleInformationZoom()">
						<li id="category_{{$index}}" class="column" ng-show="class.show" no-drag="!class.edit" ng-repeat="class in data.classes | filter:query">

						</li>
					</ul> -->
				</div>
			</div>
		</div>
	</div>
</div>

	<!-- <div class="incoming col-lg-3 col-md-12 col-sm-12 col-xs-12" ng-hide="!layout.list">
		<div class="panel panel-default" style="width: 310px;">
			<div class="panel-heading clearfix">
				<strong class="pull-left"><span class="glyphicon glyphicon-list"></span> Checklist</strong>

				<button class="btn btn-sm btn-raised pull-right btn-default"
				ng-click="openChecklistMenu()"
				title="Checklist Menu"
				style="margin-top: -3px;">
					<i class="glyphicon glyphicon-plus"></i>
				</button>

				<button class="btn btn-sm btn-raised pull-right btn-default"
				ng-click="openChecklistModal()"
				title="Zoom Checlist Menu"
				style="margin-top: -3px;">
					<i class="glyphicon glyphicon-zoom-in"></i>
				</button>
			</div>
			<div style="height:400px; padding: 2px 0px; overflow-y:scroll; overflow-x: hidden;" data-as-sortable="DragOptionsCheckList"
			data-ng-model="messages">
				<section>
					<div class="panel-body">
						<uib-accordion close-others="oneAtATime" class = "list-accordian">
							<div uib-accordion-group class="panel-default to-move" style="width: 270px;"
							ng-repeat="item in checkedList">
								<uib-accordion-heading >
									<div> {{item.name | displayString: 20}}
										<button class="btn btn-sm pull-right btn-danger  btn-default"
												ng-click="checklistDelete(item, $event)"
												title="Delete Checklist"
												style="margin-top: -7px;height: 15px;">
												<i class="glyphicon glyphicon-trash"></i>
										</button>
									</div>

								</uib-accordion-heading>
								<table class="table table-striped" style="width: 260px;margin-left: -10px;">
							        <tbody>
							            <tr ng-repeat="task in item.tasks">
						              		<td width="70%" style="font-size: 12px;">
						              			<button class="btn btn-default btn-sm" title="{{task.title}}" ng-click="taskInfo(task)">
								                  <span>{{task.title | displayString: 4}}</span>
								                </button>
						              		</td>
						              		<td width="30%">
						              			<select class="form-control"
						              			style="width: 115px;font-size: 12px;padding: 5px;"
						              			ng-model="task.status"
						              			ng-options="status.value as status.name for status in statusOptions"
						              			ng-change = "updateStatus(item.id,task)"
						              			ng-class = "getClass(task.status)"
						              			>
							              		</select>
							              	</td>
							            </tr>
							        </tbody>
							    </table>
							</div>
						</uib-accordion>
					</div>
				</section>
			</div>
		</div>
	</div> -->

<!-- <div class="incoming col-lg-3 col-md-12 col-sm-12 col-xs-12" ng-hide="!layout.inbox">
	<div class="panel panel-default incommingMsg">
		<div class="panel-heading">
			<strong><span class="glyphicon glyphicon-envelope"></span> Incoming Messages</strong>
		</div>
		<div style="padding: 5px 7px 6px 5px; overflow-y:scroll; overflow-x: hidden;" data-as-sortable="DragOptionsIncome"
		data-ng-model="messages" class="right-panel-holder">

		<ul style="width:100%;min-height:30px;float:left" class="classlist list-group">

			<li class="list-group-item item msg" style="margin-bottom:5px;" data-as-sortable-item ng-repeat="item in messages | filter:query | orderBy:item.index" >

				<div>
					<div class="row" style="margin:0">
						<div class="col-xs-1 handle" data-as-sortable-item-handle>
							<span class="ti-move"></span>
						</div>
						<div class="col-xs-11" style="padding-left:5px; background-color: #f4f4f4;">
							<div class="row left-padding">
								<div class="col-xs-12 item-text" style="padding: 2px 8px 0px 0px;">
									<span ng-hide="item.edit" title="{{item.message}}">
										<pre ng-style="messagesStyle">{{item.message }}</pre>
									</span>
								</div>
							</div>
							<div class="row item-info left-padding">
								<div class="col-md-5 nopadding">
									{{item.user.firstName}}
								</div>
								<div class="col-md-7 text-right time">
									{{timeFormat(item.createdAt)}}
								</div>
							</div>
						</div>
					</div>
				</div>
			</li>
		</ul>
	</div>
	<div class="panel-footer">
		<form class="form" role="form">
			<div class="input-group">
				<input style="resize:vertical" maxlength="255" rows="1" class="form-control" ng-model="msg" msd-elastic ng-textarea-enter="sendMessage(msg)">
				<span class="input-group-btn" style="vertical-align: bottom;">
					<button class="btn btn-sm btn-raised btn-default"
					ng-click="sendMessage(msg)">
						<i class="glyphicon glyphicon-send"></i>
					</button>
				</span>
			</div>
		</form>
		<div class="message-length-warning" ng-class="{'red-text': msg.length >= 255}">
			<span>
				{{msg.length || 0}} / 255 Characters
			</span>
		</div>
	</div>
</div> -->

