<div class="page" ng-controller="teamActivateCtrl">
 <section class="panel panel-default">
    <div class="panel-body">
         <table st-pipe="usersTable" st-table="users" class="table table-bordered table-striped table-responsive">
                    <thead>
                    <tr>
                        <th  st-sort="name">Name</th>
                        <th  st-sort="incidents_teams.name">Team Name</th>
                        <th  st-sort="role.name">Role</th>
                        <th  st-sort="">Mobile</th>
                        <th  st-sort="latestAlert"> Latest Alert At</th>
                        <th st-sort="lastLogin">Latest Login</th>
                        <th >Activation Email</th>
                    </tr>
                    <tr>
                        <th>
                            <input class="form-control" placeholder="Search Name" st-search="name"/>


                        </th>

                        <th>
                            <input class="form-control" placeholder="Search Team" st-search="incidents_teams.name"/>
                        </th>
                        <th>
                            <input class="form-control" placeholder="Search Role"
                            st-search="roles.name"/>
                        </th>
                        <th>
                            <input class="form-control" placeholder="Search mobilePhone"
                            st-search="mobilePhone"/>
                        </th>
                        <th>
                            <input class="form-control" placeholder="Search latestAlert"
                            st-search="latestAlert"/>
                        </th>
                        <th>
                            <input class="form-control" placeholder="Search lastLogin"
                            st-search="lastLogin"/>
                        </th>
                        <th>
                          <div class="th">

                          </div>
                        </th>
                    </tr>
                    </thead>
                <tbody>
                    <tr  ng-class="{true: 'user-present', false: 'user-absent'}[user.available == true]" ng-repeat="user in users">
                      <td>{{user.name}}</td>
                      <td><p ng-repeat="team in user.incidents_teams">{{team.name}}</p></td>
                      <td><p ng-repeat="role in user.roles">{{role.name}}</p></td>
                      <td>{{user.mobilePhone}}</td>
                      <td ng-if="user.latestAlert">{{user.latestAlert | date: "HH:mm dd-MM-yyyy"}}</td>
                      <td ng-if="!user.latestAlert">N/A</td>
                      <td>{{user.lastLogin | date: "HH:mm dd-MM-yyyy"}}</td>
                      <td>{{user.LastEmailActivation | date: "HH:mm dd-MM-yyyy"}}<br>
                        <a href="javascript:void(0)" class="btn" ng-click="sendActivation(user)">Send Email</a>
                      </td>
                  </tr>
                </tbody>
                <tbody ng-show="isLoading">
                  <tr>
                    <td colspan="4" class="text-center">Loading ... </td>
                </tr>
            </tbody>
            <tfoot class="table table-striped table-responsive">
              <tr>
                <td class="text-center" st-pagination="" st-items-by-page="pageItems" colspan="7">
                </td>
            </tr>
        </tfoot>
    </table>
    <div class="col-md-3">
      <select class="form-control"
      ng-model="pageItems"
      ng-options="item.val as item.name for item in items"
      ng-selected="item.val === pageItems">
  </select>
</div>

  </div>
</section>

</div>
