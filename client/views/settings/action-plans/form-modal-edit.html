<div class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
        <!-- Modal content-->

        <div class="modal-content">

            <div class="modal-header" id="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" id="modal-title">Action Plan: {{data.name}}</h4>
            </div>
            <div ng-show="page5" style="padding-right: 21px; padding-bottom: 27px;">
                <!-- <button class="btn btn-info" ng-click="backToAllActivities()">Back</button> -->
                <button class="btn btn-success" ng-click="updateActionPlan()" style="float:right;">
                    <span>Save Action Plan</span>
                </button>
            </div>
            <div class="modal-body">

                <div >
                    <button class="btn btn-info" ng-show="page1" ng-click="close()" data-dismiss="modal">Cancel</button>
                    <button class="btn btn-success" ng-disabled="sectionRec" ng-show="page1" ng-click="save(data, false)" style="float:right; margin-left:5px"> Next  <i class="fa fa-chevron-right fa-lg"></i></button>
                    <button class="btn btn-success" ng-show="page2" ng-click="saveExit()" style="float:right">
                        <span>Save & Exit</span>
                    </button>

                    <div ng-show="page3">
                        <button class="btn btn-primary" ng-click="newAssignTask()">Add Task</button>

                        <button class="btn btn-success" ng-click="addSections()" style="float:right">
                            <span>Next</span>
                        </button>
                    </div>
                    <button class="btn btn-info" ng-show = "page7 || page10" ng-click="backToSections()">Back</button>

                    <div ng-show="page4">
                        <button class="btn btn-info" ng-click="backToAllActivities()">Back</button>
                        <button class="btn btn-success" ng-click="createAssignTask()" style="float:right">
                            <span>Save</span>
                        </button>
                    </div>
                    <button class="btn btn-success" ng-click="updateSection()" style="float:right" ng-show= "page7">
                        <span>Update Section</span>
                    </button>

                    <button class="btn btn-success" ng-show = "page10" ng-click="createAssignTask()" style="float:right">
                      <span>Save</span>
                      </button>

                    <button class="btn btn-success" ng-click="updateActivities()" style="float:right" ng-show= "page9">
                        <span>Update</span>
                    </button>
                    <div ng-show="page6">
                        <button class="btn btn-info" ng-click="backToSections()">Back</button>
                        <button class="btn btn-success" ng-click="createNewSection()" style="float:right">
                            <span>Save</span>
                        </button>
                    </div>
                </div>
                <div>
                    <section ng-show="page1" class="panel panel-default">
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-8 col-md-offset-2">
                                    <div id="home" class="tab-pane fade in active">
                                        <div class="form-group">
                                            <label>Name</label><span style="color: red" title="Required"> *</span>
                                            <input class="form-control" ng-model="data.name">
                                        </div>

                                        <div class="form-group">
                                            <label>Incident Type</label>
                                            <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                <select ng-change="loadScenario(data.categoryId)"  chosen
                                                        class="form-control"
                                                        data-placeholder-text-single="'Select Type'"
                                                        ng-model="data.categoryId"
                                                        ng-options="type.id as type.name for type in categories">
                                                        <option></option>
                                                </select>
                                            </div>
                                            <a href="" ng-click="addIncidentType()">Create new Incident Type</a>
                                        </div>

                                        <div class="form-group">
                                            <label>Scenario</label>
                                            <div class="form-group chosen-full-container">
                                                <select chosen class="form-control" data-placeholder-text-single="'Select Scenario'" ng-model="data.scenarioId" ng-options="scenario.id as scenario.name for scenario in scenarioOptions">
                                                    <option></option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label>Description</label>
                                            <textarea ng-model="data.description" class="form-control" id="textArea"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label>Plan Date<span class="required-custom"> *</span></label>
                                            <input class="form-control" data-provide="datepicker" ng-change="closePicker()"  data-date-format="dd/mm/yyyy" ng-model="data.plandate">
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                    </section>

                    <!-- <section ng-show="page3" class="panel panel-default">
                      <div class="panel-heading">
                          <strong>
                            <span class="glyphicon glyphicon-th"></span> Action Plan Tasks
                          </strong>
                      </div>
                        <div class="table-filters">
                            <div class="row">
                                <div class="col-sm-12 col-xs-6 chosen-full-container" style="margin: 10px;">
                                    <form>
                                        <input type="text"
                                               placeholder="Search Task, and Actor"
                                               class="form-control"
                                               data-ng-model="searchKeywords"
                                               data-ng-keyup="search()">
                                    </form>
                                    <br>
                                    <select chosen
                                            class="form-control"
                                            data-placeholder-text-single="'Filter By Tags'"
                                            ng-model="categoriesFilter"
                                            ng-options="tag.text as tag.text for tag in tags"
                                            ng-change="CategoryFilter()">
                                        <option></option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <table class="table table-bordered table-striped table-responsive">
                            <thead>
                            <tr>
                                <th class="col-md-1"></th>
                                <th class="col-md-2"><div class="th">Task Library
                                    <a      href=""
                                            class="fa fa-angle-up"
                                            style="text-decoration: none;"
                                            data-ng-click=" order('task_list.title') "
                                            data-ng-class="{active: row == 'task_list.title'}">
                                    </a>
                                    <a      href=""
                                            style="text-decoration: none;"
                                            class="fa fa-angle-down"
                                            data-ng-click=" order('-task_list.title') "
                                            data-ng-class="{active: row == '-task_list.title'}">
                                    </a>
                                </div></th>
                                <th class="col-md-2"><div class="th"> Actor
                                    <a      href=""
                                            style="text-decoration: none;"
                                            class="fa fa-angle-up"
                                            data-ng-click=" order('response_actor.firstName') "
                                            data-ng-class="{active: row == 'response_actor.firstName'}">
                                    </a>
                                    <a      href=""
                                            style="text-decoration: none;"
                                            class="fa fa-angle-down"
                                            data-ng-click=" order('-response_actor.firstName') "
                                            data-ng-class="{active: row == '-response_actor.firstName'}">
                                    </a>
                                </div></th>
                                <th class="col-md-2">
                                    <div class="th"> Tags
                                    </div>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="activity in currentPageActivities">
                                <td><input type="checkbox" ng-model="activity.selected"></td>
                                <td>{{activity.task_list.title}}</td>
                                <td>{{displayActivityActor(activity)}}</td>
                                <td>
                                    <a href="" ng-repeat="tag in activity.task_list.tags"> #{{tag.text}}</a> <br>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <br>
                        <footer class="table-footer">
                            <div class="row">
                                <div class="col-md-6 page-num-info">
                                <span>
                                    Show
                                    <select data-ng-model="numPerPage"
                                            data-ng-options="num for num in numPerPageOpt"
                                            data-ng-change="onNumPerPageChange()">
                                    </select>
                                    records per page
                                </span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12 text-right pagination-container" style="text-align: center">
                                    <uib-pagination class="pagination-sm"
                                                    style="display: inline-block;"
                                                    ng-model="currentPage"
                                                    total-items="filteredActivities.length"
                                                    max-size="4"
                                                    ng-change="select(currentPage)"
                                                    items-per-page="numPerPage"
                                                    rotate="false"
                                                    previous-text="&lsaquo;" next-text="&rsaquo;"
                                                    boundary-links="true">
                                    </uib-pagination>
                                </div>
                            </div>
                        </footer>
                    </section>
                     -->
                    <section ng-show="page4" class="panel panel-default">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                <div class="form-group">
                                    <label> Task </label><span style="color: red" title="Required"> *</span>

                                    <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                        <select chosen
                                                class="form-control"
                                                data-placeholder-text-single="'Select Task'"
                                                ng-model="activity.taskListId"
                                                ng-selected="task.id === activity.taskListId"
                                                ng-options="task.id as task.title for task in tasks">
                                        </select>
                                    </div>
                                    <a href="" ng-click="addTaskItem()"><i class=""> Create New Task </i></a>
                                </div>

                                <div class="form-group">
                                    <label> Description </label>
                                    <input class="form-control" ng-model="activity.description">
                                </div>
                                <div class="form-group">
                                    <label> Responsibility Level</label>
                                    <div class="form-group chosen-full-container">
                                        <select chosen
                                                class="form-control"
                                                data-placeholder-text-single="'Select Level'"
                                                ng-model="activity.responsibility_level"
                                                ng-options="role.name as role.name for role in roles">
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Actor </label>
                                    <div class="form-group chosen-full-container">
                                        <select chosen
                                                class="form-control"
                                                data-placeholder-text-single="'Select Actor'"
                                                ng-model="activity.responseActorId"
                                                ng-options="actor.id as displayActorName(actor) for actor in users">
                                        </select>
                                    </div>
                            </div>
                            </div>
                        </div>
                    </section>

                    <section ng-show="page5">
                        <div class="">
                          <ul class="nav nav-tabs nav-justified">
                            <li class="active" ng-click="activeTabs('task')"><a data-toggle="tab" data-target="#players" >Task View</a></li>
                            <li ng-click="activeTabs('section')"><a data-toggle="tab" data-target="#message">Section View</a></li>
                          </ul>
                          <div class="tab-content" style="height: 500px; overflow-y: auto;">


                         <!-- Task View  -->

                          <div id="players" class="tab-pane fade in active"
                          ng-class="activeTabEditModal ? 'active in' : 'inactive'"
                          >
                            <section class="panel panel-default">
                                <div class="panel-body" style="height: 500px; overflow-y: auto;">
                                    <!-- <strong>Plan Name: {{data.name}}</strong> -->
                                    <div class="row">
                                        <div class="col-md-8 col-md-offset-2">
                                            <div id="menu1" class="tab-pane fade in active ui-widget">
                                                <button class="btn btn-primary" ng-click="addModal()"> Add Task</button>
                                                <button class="btn btn-primary" ng-click="addActivity()">Select from Task Library</button>
                                                <ul data-as-sortable="DragOptions" data-ng-model="activities">
                                                    <li class="panel-default"
                                                    is-open="activityExpand"
                                                    ng-repeat="activity in activities"
                                                    data-as-sortable-item style="margin-bottom: 15px;">
                                                        <div class="col-xs-1 handle" data-as-sortable-item-handle style="margin-top: 10px;">
                                                            <span class="ti-move">
                                                        </span>
                                                        </div>
                                                        <div class="col-xs-1 delete-activity">
                                                            <button title="Delete Activity" class="btn btn-sm btn-danger" ng-click="deleteActivity(activity, $index)" confirm="Are you sure you want to delete?">
                                                            <span class="glyphicon glyphicon-remove-sign"></span>
                                                        </button>
                                                        </div>
                                                        <uib-accordion close-others="true">
                                                            <div uib-accordion-group>
                                                                <uib-accordion-heading>
                                                                    {{$index+1}} - {{activity.title}}
                                                                    <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': activityExpand, 'glyphicon-chevron-right': !activityExpand}"></i>
                                                                </uib-accordion-heading>

                                                                <div>
                                                                    <div class="panel panel-default" style="margin-bottom: 20px;">
                                                                        <div class="panel-heading">
                                                                            <strong>
                                                                                <span class="glyphicon glyphicon-th"></span> BASIC INFORMATION
                                                                            </strong>
                                                                        </div>

                                                                        <div class="panel-body">
                                                                            <div class="form-group">
                                                                                <label> Default Activity </label>
                                                                                <input type="checkbox" ng-model="activity.default"
                                                                                       style="margin-left: 10px; margin-top: 4px;
                                                                                   position: absolute;"
                                                                                       ng-change="updateActivity(activity)">
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label> Task </label><span style="color: red" title="Required"> *</span>
                                                                                <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                                    <select chosen
                                                                                            class="form-control"
                                                                                            ng-model="activity.taskListId"
                                                                                            ng-options="task.id as task.title for task in tasks">
                                                                                    </select>
                                                                                </div>
                                                                                <a href="" ng-click="addTaskItem()"><i class=""> Create New Task </i></a>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label> Description </label>
                                                                                <input class="form-control" ng-model="activity.description">
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label> Responsibility Level</label>
                                                                                <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                                    <select chosen
                                                                                            class="form-control"
                                                                                            data-placeholder-text-single="'Select Level'"
                                                                                            ng-model="activity.responsibility_level"
                                                                                            ng-options="role.name as role.name for role in roles">
                                                                                    </select>
                                                                                </div>
                                                                                <a href="" ng-click="addRole()">Create Responsibility Level</a>

                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="panel panel-default" style="margin-bottom: 20px;">
                                                                        <div class="panel-heading">
                                                                            <strong>
                                                                                <span class="glyphicon glyphicon-th"></span> ROLE INFORMATION
                                                                            </strong>
                                                                        </div>
                                                                        <div class="panel-body">
                                                                            <div class="form-group">
                                                                                <label> Organization </label>
                                                                                <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                                    <select chosen
                                                                                            class="form-control"
                                                                                            data-placeholder-text-single="'Select Organization'"
                                                                                            ng-model="activity.organizationId"
                                                                                            ng-options="org.id as org.name for org in organizations">
                                                                                    </select>
                                                                                </div>
                                                                                <a href="" ng-click="addOrg()"><i class=""> Create New Organization </i></a>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label> Department </label>
                                                                                <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                                    <select chosen
                                                                                            class="form-control"
                                                                                            data-placeholder-text-single="'Select Department'"
                                                                                            ng-model="activity.departmentId"
                                                                                            ng-options="dpt.id as dpt.name for dpt in departments">
                                                                                    </select>
                                                                                </div>
                                                                                <a href="" ng-click="addDepartment()"><i class=""> Create New Department </i></a>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label> Role </label>
                                                                                <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                                    <select chosen
                                                                                            class="form-control"
                                                                                            data-placeholder-text-single="'Select Role'"
                                                                                            ng-model="activity.roleId"
                                                                                            ng-options="role.id as role.name for role in roles">
                                                                                    </select>
                                                                                </div>
                                                                                <a href="" ng-click="addRole()"><i class=""> Create New Role </i></a>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="panel panel-default" style="margin-bottom: 20px;">
                                                                        <div class="panel-heading">
                                                                            <strong>
                                                                                <span class="glyphicon glyphicon-th"></span> ACTOR INFORMATION
                                                                            </strong>
                                                                        </div>
                                                                        <div class="panel-body">

                                                                            <div class="form-group">
                                                                                <label>Actor </label>
                                                                                <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                                    <select chosen
                                                                                            class="form-control"
                                                                                            data-placeholder-text-single="'Select Actor'"
                                                                                            ng-model="activity.responseActorId"
                                                                                            ng-options="actor.id as displayActorName(actor) for actor in users">
                                                                                    </select>
                                                                                </div>
                                                                                <a href="" ng-click="quickAddUser()">Add New Actor</a>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="panel panel-default">
                                                                        <div class="panel-heading">
                                                                            Additional Info
                                                                        </div>

                                                                        <div class="panel-body">

                                                                            <div class="form-group">
                                                                                <label> Response Time (minutes)</label>
                                                                                <div uib-timepicker ng-model="activity.response_time" show-meridian="ismeridian"></div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label> Completion Time (minutes)</label>
                                                                                <div uib-timepicker ng-model="activity.completion_time" show-meridian="ismeridian"></div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label> Backup Actor </label>
                                                                                <div class="form-group chosen-full-container">
                                                                                    <select chosen
                                                                                            class="form-control"
                                                                                            data-placeholder-text-single="'Select Actor'"
                                                                                            ng-model="activity.backupActorId"
                                                                                            ng-options="actor.id as displayActorName(actor) for actor in users">
                                                                                    </select>
                                                                                </div>
                                                                            </div>

                                                                            <div class="form-group">
                                                                                <label> Accountable Actor </label>
                                                                                <div class="form-group chosen-full-container">
                                                                                    <select chosen
                                                                                            class="form-control"
                                                                                            data-placeholder-text-single="'Select Actor'"
                                                                                            ng-model="activity.accountableActorId"
                                                                                            ng-options="actor.id as displayActorName(actor) for actor in users">
                                                                                    </select>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <button class="btn btn-primary" ng-click="updateTaskActivity(activity)"> Update</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </uib-accordion>
                                                    </li>

                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                          </div>

                           <!-- Section View  -->

                           <div id="message" class="tab-pane fade"
                           ng-class="activeTabEditModal1 ? 'active in' : 'inactive'"
                           >
                               <div class="float-right">
                                 <button class="btn btn-success" ng-click="newSection()">New Section</button>
                               </div>
                               <br><br><br>
                               <div class="panel panel-default"
                             style="margin-bottom: 20px;"
                             ng-repeat="section in sections">

                                   <div class="panel-heading">
                                       <strong>
                                         <span class="glyphicon glyphicon-th"></span> {{section.index}} - {{section.name}}
                                       </strong>
                                       <a ng-show="!section.default" class="btn btn-danger" ng-click = "deleteSection(section.id,$index)" style="float: right;margin-top: -10px;"><span class="fa fa-times"></span></a>
                                         <button ng-show="!section.default" style="float: right" ng-click = "editSection(section,$index)">
                                           Edit Section
                                         </button>
                                   </div>
                                   <div class="panel-body">
                                       <div class="row">
                                   <div class="col-md-8 col-md-offset-2">
                                       <div id="menu1" class="tab-pane fade in active ui-widget">
                                           <ul data-as-sortable="DragOptions1" data-ng-model="section.plan_activities" id="{{section.id}}">
                                               <li class="panel-default" is-open="activityExpand"
                                                 ng-repeat="activity in section.plan_activities" data-as-sortable-item
                                                 style="margin-bottom: 15px;" >
                                                 <div class="col-xs-1 handle" data-as-sortable-item-handle
                                                         style="margin-top: 10px;" >
                                                     <span class="ti-move">
                                                     </span>
                                                 </div>
                                                 <div class="col-xs-1 delete-activity">
                                                   <button title="Delete Activity" class="btn btn-sm btn-danger ng-isolate-scope" ng-click="deleteActivitySection(activity, $index, section)" confirm="Are you sure you want to delete?">
                                                   <span class="glyphicon glyphicon-remove-sign"></span>
                                               </button>
                                               </div>
                                                 <uib-accordion close-others="true">
                                                   <div uib-accordion-group>
                                                       <uib-accordion-heading>
                                                           {{$index+1}}  - {{activity.activity.task_list.title ? activity.activity.task_list.title : activity.activity.title}}
                                                           <i class="pull-right glyphicon"
                                                               ng-class="{'glyphicon-chevron-down': activityExpand, 'glyphicon-chevron-right': !activityExpand}"></i>
                                                       </uib-accordion-heading>
                                                       <div>
                                                            <div class="panel panel-default" style="margin-bottom: 20px;">
                                                                <div class="panel-heading">
                                                                    <strong>
                                                                        <span class="glyphicon glyphicon-th"></span> BASIC INFORMATION
                                                                    </strong>
                                                                </div>

                                                                <div class="panel-body">
                                                                    <div class="form-group">
                                                                        <label> Default Activity </label>
                                                                        <input type="checkbox" ng-model="activity.activity.default"
                                                                               style="margin-left: 10px; margin-top: 4px;
                                                                           position: absolute;"
                                                                               ng-change="updateActivity(activity.activity)">
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label> Task </label><span style="color: red" title="Required"> *</span>
                                                                        <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                            <select chosen
                                                                                    class="form-control"
                                                                                    ng-model="activity.activity.taskListId"
                                                                                    ng-options="task.id as task.title for task in tasks">
                                                                            </select>
                                                                        </div>
                                                                        <a href="" ng-click="addTaskItem()"><i class=""> Create New Task </i></a>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label> Description </label>
                                                                        <input class="form-control" ng-model="activity.activity.description">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <label> Responsibility Level</label>
                                                                        <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                            <select chosen
                                                                                    class="form-control"
                                                                                    data-placeholder-text-single="'Select Level'"
                                                                                    ng-model="activity.activity.responsibility_level"
                                                                                    ng-options="role.name as role.name for role in roles">
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                        <a href="" ng-click="addRole()">Create Responsibility Level</a>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="panel panel-default" style="margin-bottom: 20px;">
                                                                <div class="panel-heading">
                                                                    <strong>
                                                                        <span class="glyphicon glyphicon-th"></span> ROLE INFORMATION
                                                                    </strong>
                                                                </div>
                                                                <div class="panel-body">
                                                                    <div class="form-group">
                                                                        <label> Organization </label>
                                                                        <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                            <select chosen
                                                                                    class="form-control"
                                                                                    data-placeholder-text-single="'Select Organization'"
                                                                                    ng-model="activity.activity.organizationId"
                                                                                    ng-options="org.id as org.name for org in organizations">
                                                                            </select>
                                                                        </div>
                                                                        <a href="" ng-click="addOrg()"><i class=""> Create New Organization </i></a>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label> Department </label>
                                                                        <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                            <select chosen
                                                                                    class="form-control"
                                                                                    data-placeholder-text-single="'Select Department'"
                                                                                    ng-model="activity.activity.departmentId"
                                                                                    ng-options="dpt.id as dpt.name for dpt in departments">
                                                                            </select>
                                                                        </div>
                                                                        <a href="" ng-click="addDepartment()"><i class=""> Create New Department </i></a>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label> Role </label>
                                                                        <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                            <select chosen
                                                                                    class="form-control"
                                                                                    data-placeholder-text-single="'Select Role'"
                                                                                    ng-model="activity.activity.roleId"
                                                                                    ng-options="role.id as role.name for role in roles">
                                                                            </select>
                                                                        </div>
                                                                        <a href="" ng-click="addRole()"><i class=""> Create New Role </i></a>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="panel panel-default" style="margin-bottom: 20px;">
                                                                <div class="panel-heading">
                                                                    <strong>
                                                                        <span class="glyphicon glyphicon-th"></span> ACTOR INFORMATION
                                                                    </strong>
                                                                </div>
                                                                <div class="panel-body">

                                                                    <div class="form-group">
                                                                        <label>Actor </label>
                                                                        <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                                                            <select chosen
                                                                                    class="form-control"
                                                                                    data-placeholder-text-single="'Select Actor'"
                                                                                    ng-model="activity.activity.responseActorId"
                                                                                    ng-options="actor.id as displayActorName(actor) for actor in users">
                                                                            </select>
                                                                        </div>
                                                                        <a href="" ng-click="quickAddUser()">Add New Actor</a>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="panel panel-default">
                                                                <div class="panel-heading">
                                                                    Additional Info
                                                                </div>

                                                                <div class="panel-body">

                                                                    <div class="form-group">
                                                                        <label> Response Time (minutes)</label>
                                                                        <div uib-timepicker ng-model="activity.activity.response_time" show-meridian="ismeridian"></div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label> Completion Time (minutes)</label>
                                                                        <div uib-timepicker ng-model="activity.activity.completion_time" show-meridian="ismeridian"></div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label> Backup Actor </label>
                                                                        <div class="form-group chosen-full-container">
                                                                            <select chosen
                                                                                    class="form-control"
                                                                                    data-placeholder-text-single="'Select Actor'"
                                                                                    ng-model="activity.activity.backupActorId"
                                                                                    ng-options="actor.id as displayActorName(actor) for actor in users">
                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                    <div class="form-group">
                                                                        <label> Accountable Actor </label>
                                                                        <div class="form-group chosen-full-container">
                                                                            <select chosen
                                                                                    class="form-control"
                                                                                    data-placeholder-text-single="'Select Actor'"
                                                                                    ng-model="activity.activity.accountableActorId"
                                                                                    ng-options="actor.id as displayActorName(actor) for actor in users">
                                                                            </select>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <button class="btn btn-primary" ng-click="updateTaskActivity(activity.activity)"> Update</button>
                                                            </div>
                                                        </div>


                                                 </uib-accordion>
                                               </li>
                                             </ul>
                                             <div ng-hide="section.plan_activities.length > 0">
                                             <p  style="margin-top: 15px;"
                                                 class="watermark-text-small">
                                               No Tasks Assigned
                                             </p>
                                           </div>
                                       </div>
                                   </div>
                               </div>
                                   </div>
                       </div>
                           </div>
                      </div>
                    </div>


                        <!-- <div class="panel panel-default">
                            <div class="panel-heading">
                                <strong>
                                  <span class="glyphicon glyphicon-th"></span> {{ActivityPosition}} - {{ActivityName}}
                                  <button class="btn btn-primary" style="float: right;margin-top: -10px;" ng-click="editActivities()">
                                  Edit</button>
                                  <button class="btn btn-primary" style="float: right;margin-top: -10px;" ng-click="newAssignTask()">
                                  Add Task</button>
                                </strong>
                            </div>
                            <div class="panel-body"
                                 style="width:100%;height: 250px; overflow-y: scroll;">
                                 <div class="row">
                                    <div class="col-md-8 col-md-offset-2">
                                        <div id="menu1" class="tab-pane fade in active ui-widget">
                                          <ul data-as-sortable="DragOptions1" data-ng-model="selActivities">
                                            <li
                                              class="panel-default"
                                              is-open="activityExpand"
                                              ng-repeat="activity in selActivities"
                                              data-as-sortable-item
                                              style="margin-bottom: 15px;" id={{section.id}}>
                                              <div  class="col-xs-1 handle"
                                                    data-as-sortable-item-handle
                                                    style="margin-top: 10px;" >
                                                  <span class="ti-move">
                                                  </span>
                                              </div>
                                              <uib-accordion close-others="true">
                                                <div uib-accordion-group>
                                                    <uib-accordion-heading>
                                                        {{$index+1}}  - {{activity.task_list.title}}
                                                        <i class="pull-right glyphicon"
                                                            ng-class="{'glyphicon-chevron-down': activityExpand, 'glyphicon-chevron-right': !activityExpand}"></i>
                                                    </uib-accordion-heading>
                                                </div>
                                              </uib-accordion>
                                            </li>
                                          </ul>
                                      </div>
                                    </div>
                                  </div>
                            </div>
                        </div> -->
                    </section>

                    <section ng-show="page6" class="panel panel-default ">
                      <div class="panel-heading">
                        <strong>
                          <span class="glyphicon glyphicon-th"></span> {{sec_heading}}
                        </strong>
                    </div>
                    <div class="panel-body">
                        <div class="form-group">
                            <label> Name </label><span style="color: red" title="Required"> *</span>
                            <input class="form-control" ng-model="sectionName">
                        </div>
                        <!-- <div class="form-group">
                            <label> Position </label><span style="color: red" title="Required"> *</span>
                            <input class="form-control" type="number" ng-model="position">
                        </div> -->
                        <div class="form-group">
                          <label> Available Tasks: </label>
                          <table class="table table-striped table-responsive">
                            <thead>
                              <th></th>
                              <th>Task Library</th>
                              <th>Responsibility</th>
                            </thead>
                            <tbody>

                              <tr ng-repeat="selectedActivity in selActivities">
                                <td><input type="checkbox" ng-model = "sel[$index]" ng-click ="addinsection(selectedActivity,sel[$index],defaultSection)"></td>
                                <td>{{selectedActivity.activity.task_list.title}}</td>
                                <td>{{selectedActivity.activity.responsibility_level}}</td>

                              </tr>
                            </tbody>
                          </table>

                        </div>
                    </div>
                    </section>
                    <section ng-show="page9" class="panel panel-default">
                        <div class="panel-heading">
                            <strong>
                              <span class="glyphicon glyphicon-th"></span> Change Un-Categorized Activity Status
                            </strong>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label> Name </label><span style="color: red" title="Required"> *</span>
                                <input class="form-control" ng-model="ActivityName">
                            </div>
                            <div class="form-group">
                                <label> Position </label><span style="color: red" title="Required"> *</span>
                                <input class="form-control" type="number" ng-model="ActivityPosition">
                            </div>
                        </div>
                      </section>

                    <section ng-show="page10" class="panel panel-default">
                        <div class="panel panel-default">
                          <div class="panel-body">
                              <div class="form-group">
                                  <label> Task </label><span style="color: red" title="Required"> *</span>

                                  <div class="form-group chosen-full-container" style="margin-bottom:10px;">
                                      <select chosen
                                              class="form-control"
                                              data-placeholder-text-single="'Select Task'"
                                              ng-model="act.taskListId"
                                              ng-selected="task.id === act.taskListId"
                                              ng-options="task.id as task.title for task in tasks">
                                      </select>
                                  </div>
                                  <a href="" ng-click="addTaskItem()"><i class=""> Create New Task </i></a>
                              </div>
                              <div class="form-group">
                                  <label> Category Name</label>
                                  <div class="form-group chosen-full-container">
                                      <select chosen
                                              class="form-control"
                                              data-placeholder-text-single="'Select Category'"
                                              ng-model="act.categoryId"
                                              ng-options="role.id as role.name for role in allCategories">
                                      </select>
                                  </div>
                              </div>

                              <div class="form-group">
                                  <label> Description </label>
                                  <input class="form-control" ng-model="act.description">
                              </div>
                              <div class="form-group">
                                  <label> Responsibility Level</label>
                                  <div class="form-group chosen-full-container">
                                      <select chosen
                                              class="form-control"
                                              data-placeholder-text-single="'Select Level'"
                                              ng-model="act.responsibility_level"
                                              ng-options="role.name as role.name for role in roles">
                                      </select>
                                  </div>
                              </div>
                              <div class="form-group">
                                  <label>Actor </label>
                                  <div class="form-group chosen-full-container">
                                      <select chosen
                                              class="form-control"
                                              data-placeholder-text-single="'Select Actor'"
                                              ng-model="act.responseActorId"
                                              ng-options="actor.id as displayActorName(actor) for actor in users">
                                      </select>
                                  </div>
                          </div>
                          </div>
                        </div>
                      </section>

                    <section ng-show="page7" class="panel panel-default ">
                        <div class="panel-heading">
                            <strong>
                              <span class="glyphicon glyphicon-th"></span> {{sec_heading}}
                            </strong>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label> Name </label><span style="color: red" title="Required"> *</span>
                                <input class="form-control" ng-model="sectionName">
                            </div>
                            <div class="form-group">
                                <label> Position </label><span style="color: red" title="Required"> *</span>
                                <input class="form-control" type="number" ng-model="position">
                            </div>
                            <div class="form-group">
                              <label> Available Tasks: </label>
                              <table class="table table-striped table-responsive">
                                <thead>
                                  <th></th>
                                  <th>Task Library</th>
                                  <th>Responsibility</th>
                                </thead>
                                <tbody>

                                  <tr ng-repeat="selectedActivity in concatinate">
                                    <td><input type="checkbox" ng-model = "sel[$index]"  ng-click ="addinsection(selectedActivity,sel[$index],editedsection)"></td>
                                    <td>{{selectedActivity.activity.task_list.title}}</td>
                                    <td>{{selectedActivity.activity.responsibility_level}}</td>
                                  </tr>
                                </tbody>
                              </table>
                            </div>
                        </div>
                      </section>
                </div>
            </div>


        </div>
    </div>
</div>
